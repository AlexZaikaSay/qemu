/*
 *  Copyright (c) 2021 Alex Zaika
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, see <http://www.gnu.org/licenses/>.
 */

#ifndef TARGET_I8080_I8080_OPCODES_H
#define TARGET_I8080_I8080_OPCODES_H
 
#define MASK_COND(opcode)                (0x7 & opcode)
#define MASK_8_REG(opcode)               (0x7 & opcode)
#define MASK_ARITH(opcode)               (0x7 & opcode)
#define MASK_16_REG(opcode)              (0x3 & opcode)
#define MASK_IS_UNCOND(opcode)           (0x1 & opcode)
#define MASK_REG_PAIR(regnum)            (0x3 & (regnum >> 1))
#define MASK_LO_8_REG(regnum)            (0x1 & regnum)
#define MASK_MOV_IMM_8_REG(opcode)       (MASK_8_REG(opcode >> 3))
#define MASK_OP_16_REG(opcode)           (MASK_16_REG(opcode >> 4))
#define MASK_OP_COND(opcode)             (MASK_COND(opcode >> 2))
#define MASK_OP_ARITH(opcode)            (MASK_ARITH(opcode >> 3))

enum {
    OPC_NOT_A                                           = 0x2f,
    OPC_INC_B                                           = 0x04,
    OPC_INC_C                                           = 0x0c,
    OPC_INC_D                                           = 0x14,
    OPC_INC_E                                           = 0x1c,
    OPC_INC_H                                           = 0x24,
    OPC_INC_L                                           = 0x2c,
    OPC_INC_HL_REF                                      = 0x34,
    OPC_INC_A                                           = 0x3c,
    OPC_DEC_B                                           = 0x05,
    OPC_DEC_C                                           = 0x0d,
    OPC_DEC_D                                           = 0x15,
    OPC_DEC_E                                           = 0x1d,
    OPC_DEC_H                                           = 0x25,
    OPC_DEC_L                                           = 0x2d,
    OPC_DEC_HL_REF                                      = 0x35,
    OPC_DEC_A                                           = 0x3d,
    OPC_ROL                                             = 0x07,
    OPC_ROR                                             = 0x0f,
    OPC_RLC                                             = 0x17,
    OPC_RRC                                             = 0x1f,
    OPC_MOV_BC_REF_A                                    = 0x02,
    OPC_MOV_DE_REF_A                                    = 0x12,
    OPC_MOV_A_BC_REF                                    = 0x0a,
    OPC_MOV_A_DE_REF                                    = 0x1a,    
    OPC_MOV_BC_IMM                                      = 0x01,
    OPC_MOV_DE_IMM                                      = 0x11,
    OPC_MOV_HL_IMM                                      = 0x21,
    OPC_MOV_SP_IMM                                      = 0x31,
    OPC_INC_BC                                          = 0x03,
    OPC_INC_DE                                          = 0x13,
    OPC_INC_HL                                          = 0x23,
    OPC_INC_SP                                          = 0x33,
    OPC_DEC_BC                                          = 0x0b,
    OPC_DEC_DE                                          = 0x1b,
    OPC_DEC_HL                                          = 0x2b,
    OPC_DEC_SP                                          = 0x3b,
    OPC_MOV_B_IMM                                       = 0x06,
    OPC_MOV_C_IMM                                       = 0x0e,
    OPC_MOV_D_IMM                                       = 0x16,
    OPC_MOV_E_IMM                                       = 0x1e,
    OPC_MOV_H_IMM                                       = 0x26,
    OPC_MOV_L_IMM                                       = 0x2e,
    OPC_MOV_HL_REF_IMM                                  = 0x36,
    OPC_MOV_A_IMM                                       = 0x3e,
    OPC_MOV_B_B                                         = 0x40,
    OPC_MOV_B_C                                         = 0x41,
    OPC_MOV_B_D                                         = 0x42,
    OPC_MOV_B_E                                         = 0x43,
    OPC_MOV_B_H                                         = 0x44,
    OPC_MOV_B_L                                         = 0x45,
    OPC_MOV_B_HL_REF                                    = 0x46,
    OPC_MOV_B_A                                         = 0x47,
    OPC_MOV_C_B                                         = 0x48,
    OPC_MOV_C_C                                         = 0x49,
    OPC_MOV_C_D                                         = 0x4a,
    OPC_MOV_C_E                                         = 0x4b,
    OPC_MOV_C_H                                         = 0x4c,
    OPC_MOV_C_L                                         = 0x4d,
    OPC_MOV_C_HL_REF                                    = 0x4e,
    OPC_MOV_C_A                                         = 0x4f,
    OPC_MOV_D_B                                         = 0x50,
    OPC_MOV_D_C                                         = 0x51,
    OPC_MOV_D_D                                         = 0x52,
    OPC_MOV_D_E                                         = 0x53,
    OPC_MOV_D_H                                         = 0x54,
    OPC_MOV_D_L                                         = 0x55,
    OPC_MOV_D_HL_REF                                    = 0x56,
    OPC_MOV_D_A                                         = 0x57,
    OPC_MOV_E_B                                         = 0x58,
    OPC_MOV_E_C                                         = 0x59,
    OPC_MOV_E_D                                         = 0x5a,
    OPC_MOV_E_E                                         = 0x5b,
    OPC_MOV_E_H                                         = 0x5c,
    OPC_MOV_E_L                                         = 0x5d,
    OPC_MOV_E_HL_REF                                    = 0x5e,
    OPC_MOV_E_A                                         = 0x5f,
    OPC_MOV_H_B                                         = 0x60,
    OPC_MOV_H_C                                         = 0x61,
    OPC_MOV_H_D                                         = 0x62,
    OPC_MOV_H_E                                         = 0x63,
    OPC_MOV_H_H                                         = 0x64,
    OPC_MOV_H_L                                         = 0x65,
    OPC_MOV_H_HL_REF                                    = 0x66,
    OPC_MOV_H_A                                         = 0x67,
    OPC_MOV_L_B                                         = 0x68,
    OPC_MOV_L_C                                         = 0x69,
    OPC_MOV_L_D                                         = 0x6a,
    OPC_MOV_L_E                                         = 0x6b,
    OPC_MOV_L_H                                         = 0x6c,
    OPC_MOV_L_L                                         = 0x6d,
    OPC_MOV_L_HL_REF                                    = 0x6e,
    OPC_MOV_L_A                                         = 0x6f,
    OPC_MOV_HL_REF_B                                    = 0x70,
    OPC_MOV_HL_REF_C                                    = 0x71,
    OPC_MOV_HL_REF_D                                    = 0x72,
    OPC_MOV_HL_REF_E                                    = 0x73,
    OPC_MOV_HL_REF_H                                    = 0x74,
    OPC_MOV_HL_REF_L                                    = 0x75,
    OPC_MOV_HL_REF_HL_REF                               = 0x76,
    OPC_MOV_HL_REF_A                                    = 0x77,
    OPC_MOV_A_B                                         = 0x78,
    OPC_MOV_A_C                                         = 0x79,
    OPC_MOV_A_D                                         = 0x7a,
    OPC_MOV_A_E                                         = 0x7b,
    OPC_MOV_A_H                                         = 0x7c,
    OPC_MOV_A_L                                         = 0x7d,
    OPC_MOV_A_HL_REF                                    = 0x7e,
    OPC_MOV_A_A                                         = 0x7f,    
    OPC_ST_HL                                           = 0x22,
    OPC_LD_HL                                           = 0x2a,
    OPC_ST_A                                            = 0x32,
    OPC_LD_A                                            = 0x3a,
    OPC_CALL_NZ_IMM                                     = 0xc4,
    OPC_CALL_Z_IMM                                      = 0xcc,
    OPC_CALL_NC_IMM                                     = 0xd4,
    OPC_CALL_C_IMM                                      = 0xdc,
    OPC_CALL_PO_IMM                                     = 0xe4,
    OPC_CALL_PE_IMM                                     = 0xec,
    OPC_CALL_P_IMM                                      = 0xf4,
    OPC_CALL_M_IMM                                      = 0xfc,
    OPC_CALL_IMM                                        = 0xcd,
    OPC_CMP_B                                           = 0xb8,
    OPC_CMP_C                                           = 0xb9,
    OPC_CMP_D                                           = 0xba,
    OPC_CMP_E                                           = 0xbb,
    OPC_CMP_H                                           = 0xbc,
    OPC_CMP_L                                           = 0xbd,
    OPC_CMP_HL_REH                                      = 0xbe,
    OPC_CMP_A                                           = 0xbf,
    OPC_ADD_IMM                                         = 0xc6,
    OPC_ADC_IMM                                         = 0xce,
    OPC_SUB_IMM                                         = 0xd6,
    OPC_SBC_IMM                                         = 0xde,
    OPC_AND_IMM                                         = 0xe6,
    OPC_XOR_IMM                                         = 0xee,
    OPC_OR_IMM                                          = 0xf6,
    OPC_CMP_IMM                                         = 0xfe,
    OPC_RET_NZ                                          = 0xc0,
    OPC_RET_Z                                           = 0xc8,
    OPC_RET_NC                                          = 0xd0,
    OPC_RET_C                                           = 0xd8,
    OPC_RET_PO                                          = 0xe0,
    OPC_RET_PE                                          = 0xe8,
    OPC_RET_P                                           = 0xf0,
    OPC_RET_M                                           = 0xf8,
    OPC_RET                                             = 0xc9,
    OPC_JMP_IMM                                         = 0xc3,
    OPC_JMP_IMM_NZ                                      = 0xc2,
    OPC_JMP_IMM_Z                                       = 0xca,
    OPC_JMP_IMM_NC                                      = 0xd2,
    OPC_JMP_IMM_C                                       = 0xda,
    OPC_JMP_IMM_PO                                      = 0xe2,
    OPC_JMP_IMM_PE                                      = 0xea,
    OPC_JMP_IMM_P                                       = 0xf2,
    OPC_JMP_IMM_M                                       = 0xfa,
    OPC_JMP_HL_REF                                      = 0xe9,
    OPC_PUSH_BC                                         = 0xc5,
    OPC_PUSH_DE                                         = 0xd5,
    OPC_PUSH_HL                                         = 0xe5,
    OPC_PUSH_A_FLAGS                                    = 0xf5,
};


#endif /* TARGET_I8080_I8080_OPCODES_H */
